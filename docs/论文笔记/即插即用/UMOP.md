# UMOP一阶段检测器模块，对金字塔层级目标分布不平衡的探索

**参考：极市平台**

作者单位： 百度

文章链接：https://arxiv.org/pdf/2109.07217.pdf

代码链接：https://github.com/zimoqingfeng/UMOP

## Abstract

在目标检测领域，多级预测(比如FPN、YOLO)与重采样技术(如Focal Loss、ATSS)极大的提升了一阶段检测器性能。然而，如何通过逐级优化特征金字塔提升性能尚未进行探索。我们发现：**在训练过程中，不同金字塔层级的正负样例比例是不同的，即存在Level Imbalance**，而这尚未被一阶段检测器解决。

本文主要由以下三点贡献：

- 本文首次证实：**FPN性能在某种程度上会受到Level Imbalanced影响**；
- 集成与所提UMOP，现有一阶段检测器可以用更少的训练迭代次数取得~1.5AP指标提升，且不会导致额外的计算负担；
- 在COCO test-dev数据集上，最佳模型取得了截至目前最高的55.1AP指标(一阶段检测器)。

## Details

**带固定超参的FocalLoss不能同时对所有金字塔层级做好最好均衡。**

### Level-wise Resampling Paradigm(LRP)

基于独立重采样考量，**对每个金字塔层级设置不同的分类损失**

LRP是一种解决跨不同金字塔层级采样不平衡问题的多级优化框架，在训练过程中，对每个金字塔层级**独立的计算分类损失**

### Progressive Focal Loss(PFL)

它基于每个金字塔层级的正样例预测渐进的调整难例挖掘度。

从分而治之的角度出发，提出了一种新的**动态超参调整策略**，它可以按照每个金字塔层级的收敛位置动态调整超参。对于不同层级的不平衡性，真正需要的超参数是完全不同的。

