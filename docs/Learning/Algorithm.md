## ç®—æ³•
### å›æº¯æ³•

[å›æº¯ç®—æ³•å¥—è·¯â‘¢æ’åˆ—å‹å›æº¯+Nçš‡åã€åŸºç¡€ç®—æ³•ç²¾è®² 16ã€‘](https://www.bilibili.com/video/BV1mY411D7f6/?vd_source=c43347ef375755d298da8f0c05cfe444)

å›æº¯æ³•æœ¬è´¨ä¸ºæ·±åº¦ä¼˜å…ˆéå†ï¼Œé¦–å…ˆé€‰æ‹©ä¸€æ¡è·¯èµ°åˆ°åº•ï¼Œé€’å½’ç»“æŸåæ¢å¤ç°åœºï¼Œæ¥ç€é€’å½’

ç”±ä¸¤ä¸ªé¢˜æ¥å¯¹å›æº¯æ³•è¿›è¡Œè§£è¯», å…¨æ’åˆ—ä¸Nçš‡å

#### å…¨æ’åˆ—

**ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ `nums` ï¼Œè¿”å›å…¶ æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ— ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚**

```
ç¤ºä¾‹
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
```

ç›´æ¥æ‹¿çµç¥çš„ä»£ç è¿›è¡Œè®²è§£,ä¸ç†è§£æ²¡å…³ç³»,æ³¨é‡Šç‰ˆåœ¨åé¢,å…ˆå¤§æ¦‚äº†è§£ä¸€ä¸‹æµç¨‹

```c++
class Solution {
public:
    vector<vector<int>> permute(vector<int> &nums) {
        int n = nums.size();
        vector<vector<int>> ans;
        vector<int> path(n), on_path(n); //pathä¸ºå¯èƒ½çš„ç»“æœ, onpathä½œä¸ºè®°å¿†åŒ–æ•°ç»„,ç”¨æ¥åœ¨é€’å½’æ—¶åˆ¤æ–­è¿™ä¸ªæ•°å­—æ˜¯å¦è¢«ä½¿ç”¨
        function<void(int)> dfs = [&](int i) {
            if (i == n) {
                ans.emplace_back(path);
                return;
            }
            for (int j = 0; j < n; ++j) {
                if (!on_path[j]) {
                    path[i] = nums[j];
                    on_path[j] = true;
                    dfs(i + 1);
                    on_path[j] = false; // æ¢å¤ç°åœº
                }
            }
        };
        dfs(0);
        return ans;
    }
};
```

å…¶ä¸­dfså³ä¸ºæ·±åº¦ä¼˜å…ˆæœç´¢çš„å®ç°,åŸºæœ¬éƒ½ä½¿ç”¨é€’å½’æ–¹æ³•,

ä¸»ä½“æ€è·¯ä¸ºdfsä»ç´¢å¼•ä¸º0å¼€å§‹æ„é€ å¯èƒ½çš„ç­”æ¡ˆ,ç»™è¿™ä¸ªç´¢å¼•èµ‹å€¼ç­”æ¡ˆ,ç„¶åè¿›è¡Œé€’å½’ç»™ä¸‹ä¸€ä¸ªç´¢å¼•èµ‹å€¼,é€’å½’ç»“æŸæ¡ä»¶ä¸ºç´¢å¼•==n, ç›´æ¥è¿”å›ç­”æ¡ˆ

æ€ä¹ˆç»™è¿™ä¸ªç´¢å¼•å¯¹åº”çš„åœ°æ–¹èµ‹å€¼å°±æ˜¯ç®—æ³•å®ç°çš„å…³é”® ğŸ‘‡

æ¯æ¬¡ä»numsä¸­é€‰æ‹©ä¸€ä¸ªæ•°ç»™ä¸€ä¸ªç´¢å¼•èµ‹å€¼éƒ½ä¼šä½¿å‰©ä¸‹å¯é€‰çš„æ•°å­—å˜å°‘,å¯ä»¥ç”±è¿™ä¸ªç‚¹å‡ºå‘è¿›è¡Œæ„å»º,è¿™ä¹Ÿå°±æ˜¯onpathå­˜åœ¨çš„æ„ä¹‰,å®ƒçš„True/Falseä»£è¡¨äº†è¿™ä¸ªä½ç½®çš„æ•°å­—æœ‰æ²¡æœ‰è¢«é€‰,ç”¨äºä¿è¯æ¯ä¸ªæ•°å­—åªèƒ½è¢«é€‰ä¸€æ¬¡,æ¥ä¸‹æ¥å°±æ˜¯forå¾ªç¯,éå†numsä¸­çš„æ•°å­—,å¦‚æœå…¶æ²¡æœ‰è¢«é€‰,å°±é€‰æ‹©å®ƒ(å°†onpathèµ‹å€¼ä¸ºtrue),ç„¶åè¿›è¡Œä¸‹ä¸€ä¸ªç´¢å¼•çš„èµ‹å€¼(ä¹Ÿå°±æ˜¯ä¸‹ä¸€æ¬¡é€’å½’), **è¿™æ ·å­èƒ½å¾—åˆ°æœ€ç»ˆçš„ä¸€ä¸ªæ­£ç¡®çš„ç»“æœ**, **æ¢å¤ç°åœºçš„é‡è¦æ€§å°±æ˜¯èƒ½è®©å…¶å¾—åˆ°æ‰€æœ‰æ­£ç¡®çš„ç»“æœ**,åœ¨è¿™ä¸ªç´¢å¼•è¢«èµ‹å€¼ä¹‹åå¾—åˆ°resultä¹‹å,è¦å°†è¿™ä¸ªç´¢å¼•é‡æ–°èµ‹å…¶ä»–å€¼,å†è¿›è¡Œä¹‹å‰çš„æ‰€æœ‰æ“ä½œ~è¿™æ ·å­å°±èƒ½å¾—åˆ°æ‰€æœ‰å…¨æ’åˆ—çš„ç»“æœå•¦ ğŸ™†

```c++
dfs = (int i) 
{
    if (i == n) { //ç´¢å¼•å’Œnumsçš„é•¿åº¦ä¸€æ ·,è¯´æ˜å·²ç»æ‰¾åˆ°äº†ç­”æ¡ˆ,(æ­¤æ—¶çš„onpathå¿…å®šå…¨ä¸ºTrue,å› ä¸ºè¿™æ—¶å·²ç»é€‰æ‹©äº†æ‰€æœ‰çš„æ•°)
        ans.emplace_back(path); // å°†ç­”æ¡ˆåŠ åˆ°ç»“æœæ•°ç»„ä¸­
        return;
    }
    for (int j = 0; j < n; ++j) {//éå†æ‰€æœ‰å€¼(j),åœ¨è¿™ä¸ªå¾ªç¯ä¸­åªå¯¹ç­”æ¡ˆç¬¬içš„ç´¢å¼•è¿›è¡Œæ›´æ”¹
        if (!on_path[j]) //åˆ¤æ–­è¿™ä¸ªå€¼èƒ½ä¸èƒ½è¢«é€‰,å¦‚æœèƒ½è¢«é€‰çš„è¯ â¬‡ï¸
        {
            path[i] = nums[j]; //ç»™ç­”æ¡ˆçš„è¿™ä¸ªç´¢å¼•(i)èµ‹å€¼
            on_path[j] = true; // å°†è¿™ä¸ªå€¼æ”¹ä¸ºå·²è¢«é€‰çŠ¶æ€,åœ¨ä»¥åçš„åˆ¤æ–­ä¸­ä¸èƒ½é€‰è¿™ä¸ªå€¼
            dfs(i + 1); // å¯¹ç­”æ¡ˆçš„ä¸‹ä¸€ä¸ªç´¢å¼•(i+1)è¿›è¡Œèµ‹å€¼
            on_path[j] = false; // ä¸‹ä¸€æ¬¡å¾ªç¯ä¼šæ‰§è¡Œ++j, ä¹Ÿå°±æ˜¯è¦é‡æ–°å¯¹ç­”æ¡ˆçš„(i)ç´¢å¼•è¿›è¡Œèµ‹å€¼, åœ¨ä¹‹åçš„ç´¢å¼•ä¾æ—§å¯ä»¥é€‰æ‹©å½“å‰j, æ‰€ä»¥å°†è¿™ä¸ªå€¼æ”¹ä¸ºæœªè¢«è¢«é€‰çŠ¶æ€,ä¹‹åå¯ä»¥é€‰ä»–
        }
    }
}
```

å½“ç„¶è¿™ä¸ªdfså®ç°å¯ä»¥æ˜¯å¾ˆå¤šç§,ä»¥ä¸‹æ˜¯æˆ‘å®ç°çš„ä¸¤ç§,æ€è·¯å’Œä¸Šé¢çš„ä¸€æ ·,éƒ½æ˜¯è¦ä¿è¯æ¯ä¸ªæ•°å­—åªèƒ½è¢«é€‰ä¸€æ¬¡

ä¸Šé¢çš„æ–¹æ³•æ„å»ºäº†onpathç”¨äºè®°å½•æ•°å­—æ˜¯å¦è¢«é€‰,æˆ‘ä»¬èƒ½ä¸èƒ½ä»åŸå§‹çš„numsä¸‹æ‰‹,æ¯é€‰ä¸€æ¬¡å°±è®©numsä¸­çš„è¿™ä¸ªæ•°å­—æ¶ˆå¤±,ä½¿ä¹‹åçš„é€‰æ‹©åªèƒ½åœ¨å‰©ä¸‹çš„æ•°å­—ä¸­é€‰,è¿™æ ·ç¬¦åˆäººçš„ç›´è§‰,å¦‚æœç”¨åˆ é™¤æ’å…¥çš„åˆå¤ªè€—æ—¶,æ‰€ä»¥è¿™ä¸ªæ€è·¯æ˜¯æ¯é€‰ä¸€æ¬¡å°±å°†numsä¸­è¢«é€‰çš„ä½ç½®çš„æ•°æ”¹ä¸ºä¸€ä¸ªç‰¹å®šçš„æ•°å­—(numsä¸å¯èƒ½å‡ºç°çš„æ•°å­—),ä¸‹æ¬¡éå†åˆ°numsçš„å€¼ä¸ºè¿™ä¸ªç‰¹å®šæ•°æ—¶å°±è·³è¿‡(èµ·åˆ°äº†onpathçš„ä½œç”¨, è¯´ç™½äº†å°±æ˜¯çœå»äº†onpathå ç”¨çš„ç©ºé—´)

```c++
void dfs(vector<vector<int>>& res, int index, vector<int>& nums, vector<int>& cur)
    {
        if(index==nums.size()) // é€’å½’ç»ˆæ­¢
        {
            res.push_back(cur);
            return;
        }
        for(int i = 0; i<nums.size();i++)
        {
            if(nums[i]==-20) // å°†numsä»£æ›¿äº†onpath
                continue;
            else
            {
                cur[index]=nums[i]; // ç»™ç­”æ¡ˆçš„è¿™ä¸ªç´¢å¼•(index)èµ‹å€¼
                nums[i]=-20; //æ¯æ¬¡è¢«é€‰å°±è®©numsä¸­è¿™ä¸ªæ•°å­—æ¶ˆå¤±,æ”¹ä¸º-20(è¿™ä¸ªæ•°å­—å¯ä»¥å®šä¹‰ä¸ºä»»ä½•numsä¸å¯èƒ½å‡ºç°çš„æ•°å­—)
                dfs(res, index+1, nums, cur); // å¯¹ä¸‹ä¸€ä¸ªç´¢å¼•è¿›è¡Œèµ‹å€¼
                nums[i]=cur[index]; // æ¢å¤ç°åœº
            }
        }
        return;
```

è¿™ä¸ªonpathå†³å®šäº†æ•°å­—æ˜¯å¦è¢«é€‰,åªæœ‰ä¸¤ç§çŠ¶æ€, å³True/False, è€Œä¸”æœ€å¤šåªæœ‰[-10-10] 21ä¸ªæ•°å­—, æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨nä¸ªäºŒè¿›åˆ¶æ•°æ¥ä»£è¡¨! æˆ‘è¿™é‡Œå®šä¹‰äº†posä¸ºn(nums.size())ä½äºŒè¿›åˆ¶æ•°,åŒæ ·èµ·åˆ°onpathçš„ä½œç”¨, è¿™ç§æ€è·¯å¾ˆé‡è¦,ä¹Ÿå¾ˆå®ç”¨,å„ä½ä¸€å®šè¦å¥½å¥½ç†è§£!

- åˆ¤æ–­å…ƒç´ dæ˜¯å¦åœ¨é›†åˆä¸­ï¼šx >> d & 1 
- æŠŠå…ƒç´ dæ·»åŠ åˆ°é›†åˆä¸­ï¼š x | (1 << d)

```c++
vector<vector<int>> permute(vector<int>& nums) {
    int pos = 1<<nums.size();//åˆå§‹åŒ–pos, 1å·¦ç§»nä½, ånä½äºŒè¿›åˆ¶æ•°å…¨ä¸º0, 0è¡¨ç¤ºæ²¡æœ‰è¢«é€‰
    vector<vector<int>> res;
    vector<int> cur(nums.size());
    dfs(res, 0, nums, cur, pos);
    return res;

}
void dfs(vector<vector<int>>& res, int index, vector<int>& nums, vector<int>& cur, int pos)
{
    if(index==nums.size())
    {
        res.push_back(cur);
        return;
    }
    for(int i = 0; i<nums.size();i++)
    {
        if(pos>>i&1)//åˆ¤æ–­numsçš„ç¬¬iä½æ˜¯å¦è¢«é€‰
            continue;
        else
        {
            cur[index]=nums[i]; // ç­”æ¡ˆç¬¬iä½ç´¢å¼•èµ‹å€¼
            dfs(res, index+1, nums, cur, pos|1<<i); // è¿›è¡Œé€’å½’
        }
    }
    return;

}
```

æ­¤æ—¶ä½ å¯èƒ½ä¼šé—®, è¿™å„¿ä¸ºä»€ä¹ˆæ²¡æœ‰æ¢å¤ç°åœºå‘€? å…¶å®æ˜¯è¿›è¡Œäº†æ¢å¤ç°åœºçš„, ä»”ç»†çœ‹`dfs(res, index+1, nums, cur, pos|1<<i);`è¿™å¥,å®ƒå¯ä»¥å†™æˆ

```c++
pos = pos|1<<i; //å°†posçš„ç¬¬iä½ç½®1, è¡¨ç¤ºnums[i]è¢«é€‰äº†
dfs(res, index+1, nums, cur, pos);//dfs(index+1)è¿›è¡Œä¸‹ä¸€æ¬¡çš„é€’å½’
pos = pos&~(1<<i); //å°†posçš„ç¬¬iä½ç½®0, æ¢å¤ç°åœº
```

è¿™ä¸¤è€…æ˜¯ä¸æ˜¯ä¸€æ ·å‘€? æ˜¯ä¸æ˜¯æç„¶å¤§æ‚Ÿäº† ğŸ’¡, æ‰€æœ‰çš„dfséƒ½å¿…é¡»æ¢å¤ç°åœº!åªä¸è¿‡æœ‰ä¸¤ç§å†™æ³•

#### Nçš‡å
è¶çƒ­æ‰“é“æ¥ä¸€åˆ°ç»å…¸çš„Nçš‡åçš„é¢˜ç›®!

ç®€å•æ¥è¯´å°±æ˜¯åœ¨N*Nçš„æ£‹ç›˜ä¸Šæ”¾ç½®Nä¸ªçš‡å,ä½¿å…¶ç›¸äº’ä¸èƒ½æ”»å‡»åˆ°,ä¹Ÿå°±æ˜¯è¿™Nä¸ªçš‡åä¸åŒè¡Œä¸åŒåˆ—ä¸åŒæ–œ

é¦–å…ˆå¯ä»¥ç¡®å®šçš„æ˜¯æ¯è¡Œæ¯åˆ—è‚¯å®šéƒ½æœ‰ä¸”åªæœ‰ä¸€ä¸ªçš‡å, è‡³äºè¯æ˜æ–¹æ³•çš„è¯å¯ä»¥çœ‹æ–‡ç« å¼€å¤´å‚è€ƒé“¾æ¥ä¸­çµç¥çš„è®²è§£

å¯ä»¥ç”¨forå¾ªç¯å¯¹æ¯è¡Œçš‡åè¿›è¡Œæ‘†æ”¾,è¿™æ ·è¿™äº›çš‡åè‚¯å®šä¸åŒè¡Œ,å¯ä»¥é€šè¿‡dfså¾—åˆ°æ‰€æœ‰çš„ç»“æœç„¶ååˆ¤æ–­è¿™äº›çš‡åä¸åŒåˆ—ä¸åŒæ–œ, ä¹Ÿæ˜¯æœ€ç®€å•æœ€ç¬¦åˆç›´è§‰çš„ä¸€ç§å†™æ³•

```c++
vector<string> queen(n, string(n, '.'));//åˆå§‹åŒ–å…¨ä¸º'.',ä¹Ÿå°±æ˜¯å…¨éƒ½ä¸æ”¾çš‡å
void dfs(int row, vector<vector<string>>& res, vector<string>& queen, int n) 
{
    if (row == n) {
        res.push_back(queen);
        return;
    }
    for (int col = 0; col < n; col++) {//éå†åˆ—
        if (!isvaild(queen, col, row, n)) //å¦‚æœå½“å‰ä½ç½®ä¸åˆæ³•(åŒè¡ŒåŒåˆ—æˆ–åŒæ–œ),å°±è·³è¿‡
            continue;
        queen[row][col] = 'Q'; //ç»™å½“å‰ä½ç½®æ‘†ä¸€ä¸ªçš‡å
        dfs(row + 1, res, queen, n); //ç»™ä¸‹ä¸€è¡Œæ‘†çš‡å
        queen[row][col] = '.'; //æ¢å¤ç°åœº
    }
    return;
}
```

åˆ¤æ–­åˆä¸åˆæ³•å°±æ˜¯çœ‹å½“å‰åˆ—, å½“å‰è¡Œ, å½“å‰å·¦ä¸Šæ–œçº¿, å½“å‰å³ä¸Šæ–œçº¿æœ‰æ— çš‡å, æœ‰çš„è¯è¯´æ˜ä¸åˆæ³•,ä¸èƒ½æ‘†çš‡å

```c++
bool isvaild(vector<string>& queen, int col, int row, int n) 
{
    for (int i = 0; i < row; i++) { // åˆ¤æ–­å½“å‰åˆ—æ²¡æœ‰Q
        if (queen[i][col] == 'Q')
            return false;
    }
    //å·¦ä¸Šæ–œçº¿
    for (int i = row - 1, j = col; i >= 0; i--) {
        if ((--j) < 0) //rowå’ŒcolåŒæ—¶-- è¡¨ç¤ºå½“å‰ç‚¹çš„å·¦ä¸Šæ–œçº¿
            break;
        if (queen[i][j] == 'Q')
            return false;
    }
    //å³ä¸Šæ–œçº¿
    for (int i = row - 1, j = col; i >= 0; i--) {
        if ((++j) >= n) //row--åŒæ—¶col++, è¡¨ç¤ºå½“å‰ç‚¹çš„å³ä¸Šæ–œçº¿
            break;
        if (queen[i][j] == 'Q')
            return false;
    }
    return true;
}
```

å¯ä»¥çœ‹åˆ°isvaildå ç”¨äº†å¾ˆå¤šçš„æ—¶é—´, åˆ¤æ–­ä¸åŒåˆ—çš„æ–¹æ³•å®Œå…¨å¯ä»¥å‚ç…§å…¨æ’åˆ—çš„é€‰æ‹©ä¸åŒæ•°!ä¹Ÿå°±æ˜¯è¯´å¯ä»¥æ„å»ºonpathæˆ–è€…näºŒè¿›åˆ¶æ•°æ¥è®°å¿†è¯¥åˆ—æ˜¯å¦è¢«é€‰, å·¦ä¸Šå³ä¸Šæ–œçº¿çš„è¯,ä»¥å·¦ä¸Šè§’ç‚¹ä¸ºåŸç‚¹æ„å»ºåæ ‡ç³»,å³ä¸Šæ–œçº¿æ»¡è¶³x+yç›¸ç­‰ï¼Œ å·¦ä¸Šæ–œçº¿æ»¡è¶³y-xç›¸ç­‰

```c++
class Solution {
public: //å›æº¯æ³•çµç¥æ–¹æ³•ä¸€æ·±åº¦ä¼˜å…ˆæœç´¢
    vector<vector<string>> solveNQueens(int n) {
        int queen_col = (1<<n); //ä½¿ç”¨äºŒè¿›åˆ¶ä»£è¡¨é›†åˆï¼Œ
        // å› ä¸ºæ¯è¡Œæ¯åˆ—ä¸é‡å¤ï¼Œæ¯è¡Œä¸é‡å¤ï¼šå¯ä»¥é€šè¿‡forå¾ªç¯æ¯æ¬¡å¾ªç¯å¢åŠ ä¸€ä¸ªçš‡åè¡¨ç¤º
        // æ¯åˆ—ä¸é‡å¤ï¼šå¯æ„é€ ä¸€ä¸ªnä¸ªäºŒè¿›åˆ¶æ•°ï¼Œ ä»£è¡¨äº†æ¯åˆ—æ˜¯å¦æ‘†äº†çš‡åï¼Œå…¨é›¶ä»£è¡¨æ²¡æœ‰è¢«é€‰ï¼Œç¬¬iä¸ªæ•°ä¸º1ä»£è¡¨ç¬¬iåˆ—å·²ç»æ‘†äº†çš‡å
        // é€»è¾‘ä¸ºä»ä¸Šåˆ°ä¸‹æ¯è¡Œæ‘†ä¸€ä¸ªçš‡åï¼Œ
        vector<int> pos(n);
        vector<vector<string>> res;
        dfs(0, res, queen_col, n, pos);
        return res;
    }
    void dfs(int row, vector<vector<string>>& res, int queen_col, int n, vector<int>& pos) {
        if (row == n) {
            vector<string> queen(n);
            for(int i = 0; i<pos.size();i++)
            {
                queen[i] = string(pos[i],'.')+string(1,'Q')+string(n-1-pos[i], '.');
            }
            res.emplace_back(queen);
            return;
        }
        for (int col = 0; col < n; col++) {
            if (!isvaild(col,row,pos)||((queen_col>>col)&1))//ç¬¬colä½ä¸º1ä»£è¡¨è¢«é€‰äº†ï¼Œè·³è¿‡
                continue;
            pos[row]=col;
            dfs(row + 1, res, (1<<col)|queen_col, n, pos);//å°†å¯¹åº”ä½çš„queen_colç½®1
            //æ¢å¤ç°åœº
        }
        return;
    }
    bool isvaild(int col, int row, vector<int>& pos) {//å·¦ä¸Šæ»¡è¶³x+yç›¸ç­‰ï¼Œ å³ä¸Šæ»¡è¶³y-xç›¸ç­‰, åœ¨å¤–é¢é™åˆ¶ä¸åŒåˆ—
        for(int i = 0; i<row;i++)//è¿™æˆ‘ä¹‹å‰å†™çš„æ˜¯i<pos.size(), å¾ˆæ˜æ˜¾åœ¨æ²¡èµ‹å€¼æ—¶ä»¥ä¸‹åˆ¤æ–­æ¡ä»¶æ’ä¸º0+0/0-0æ‰€ä»¥ä¸€ç›´è¿”å›false
        {
            if((i+pos[i]==row+col)||(i-pos[i]==row-col))
                return false;
        }
        return true;
    }
};
```

ä¸Šé¢çš„æ–¹æ³•æ˜¯æ„å»ºäº†ä¸€ä¸ªæ•°ç»„ç”¨æ¥åˆ¤æ–­åˆ—æ˜¯å¦è¢«é€‰, åŒæ ·å¯ä»¥æ„å»ºæ•°ç»„æ¥åˆ¤æ–­æ–œçº¿æ˜¯å¦è¢«é€‰, ç»“åˆä¹‹å‰çš„æ–¹æ³•onpathçš„å®šä¹‰å¥½å¥½ç†è§£

```c++
class Solution {
public: // å›æº¯æ³• ä¾æ—§æ˜¯çµç¥ï¼
//ç»“åˆå‰ä¸€ç§è§£æ³•å¯å¾—ï¼Œ å†…å­˜æ¢æ—¶é—´
    vector<vector<string>> solveNQueens(int n) {
        vector<vector<string>> res;
        vector<int> col_pos(n), diag1(n * 2 - 1), diag2(n * 2 - 1);
        int on_path = 1<<n; //æ•°ç»„æ”¹ä¸ºé›†åˆï¼Œæ¯ä¸€ä½0/1ä»£è¡¨è¯¥åˆ—é€‰æ²¡é€‰
        function<void(int)> dfs = [&](int r) 
        {
            if(r==n)
            {
                vector<string> queen(n);
                for(int i=0; i<n;i++)
                {
                    queen[i]=string(col_pos[i],'.')+'Q'+string(n-1-col_pos[i],'.');
                }
                res.push_back(queen);
                return;
            }
            for(int i = 0; i<n;i++)
            {
                if(!(on_path>>i&1)&&!diag1[i+r]&&!diag2[i-r+n-1])
                {
                    col_pos[r]=i;
                    on_path = on_path|1<<i; //å°†è¯¥ä½ç½®1
                    diag1[i+r]=diag2[i-r+n-1]=true;//è¿™é‡Œè¦+n-1ä»¥é˜²è´Ÿæ•°çš„å‡ºç°
                    dfs(r+1);
                    on_path = on_path&~(1<<i); // å°†è¯¥ä½ç½®0 æ¢å¤ç°åœº
                    diag1[i+r]=diag2[i-r+n-1]=false;

                } 
            }
            return;
        };
        dfs(0);
        return res;


    }
};
```

#### æ¨¡æ¿é¢˜ ç»„åˆæ€»å’Œ

ä¸€é¢˜ä¸¤è§£æ¥ç†è§£å›æº¯æ³•

[39.ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum/description/)

>ç»™ä½ ä¸€ä¸ª æ— é‡å¤å…ƒç´  çš„æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° target ï¼Œæ‰¾å‡º candidates ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„ æ‰€æœ‰ ä¸åŒç»„åˆ ï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›è¿™äº›ç»„åˆã€‚

candidates ä¸­çš„ åŒä¸€ä¸ª æ•°å­—å¯ä»¥ æ— é™åˆ¶é‡å¤è¢«é€‰å– ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ•°å­—çš„è¢«é€‰æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚

è¿™é“é¢˜æˆ‘ç¬¬ä¸€æ¬¡åšçš„æ—¶å€™å°±æ„Ÿè§‰å¤ªç»å…¸äº†

##### è§£æ³•ä¸€ï¼šæšä¸¾èµ·ç‚¹çš„å›æº¯

```c++
vector<vector<int>> combinationSum(vector<int>& candidates, int target) {
    vector<vector<int>> res;
    vector<int> num;
    function<void(int, int)> dfs = [&](int j, int sum) //å‚æ•°è¡¨ç¤ºèµ·ç‚¹ç´¢å¼•ä¸ºj,æ­¤æ—¶æ€»å’Œä¸ºsum
    {
        if(sum==target)
        {
            res.push_back(num);
            return;
        }
        else if(sum>target)
        {
            return;
        }
        else
        {
            for(int i = j; i<candidates.size();i++)
            {
                num.push_back(candidates[i]);
                dfs(i,sum+candidates[i]);
                num.pop_back();//numæ¢å¤ç°åœº
                //ç”±äºä¼ çš„å‚æ˜¯sum+candidates[i]ï¼Œåœ¨ä¸‹ä¸€æ¬¡å¾ªç¯å¹¶æ²¡æœ‰æ”¹å˜sumçš„å€¼ï¼Œæ‰€ä»¥ä¸ç”¨sumæ¢å¤
                //sumæ¢å¤ç°åœºçš„å†™æ³• â¬‡ï¸
                //sum=sum+candidates[i];
                //dfs(i,sum+candidates[i]);
                //sum-=candidates[i];
            }
        }
    };
    dfs(0,0);
    return res;
}
```

##### è§£æ³•äºŒï¼šé€‰æˆ–ä¸é€‰çš„å›æº¯

```c++
vector<vector<int>> combinationSum(vector<int>& candidates, int target) {
    vector<vector<int>> res;
    vector<int> num;
    function<void(int, int)> dfs = [&](int j, int sum) //å‚æ•°è¡¨ç¤ºèµ·ç‚¹ç´¢å¼•ä¸ºj,æ­¤æ—¶æ€»å’Œä¸ºsum
    {
        if(sum==target)
        {
            res.push_back(num);
            return;
        }
        else if(i==candidates.size()||sum>target)//é€’å½’ç»“æŸæ¡ä»¶å¤šäº†ä¸€ä¸ªiåˆ°è¾¾è¾¹ç•Œ
        {
            return;
        }
        else
        {
            dfs(i+1,sum);//ä¸é€‰i
            num.push_back(candidates[i]);//é€‰i
            dfs(i,sum+candidates[i]);
            num.pop_back();//numæ¢å¤ç°åœº
        }
    };
    dfs(0,0);
    return res;
}
```

å‰ªæä¼˜åŒ–

å¦‚æœå‰©ä¸‹å¯ä»¥é€‰çš„å…ƒç´ é‡Œæœ€å°å€¼éƒ½ä¼šä½¿sum>target,é‚£å°±æ²¡æœ‰å¿…è¦ç»§ç»­é€’å½’äº†ï¼Œæ‰€ä»¥å¯ä»¥å…ˆå¯¹æ•°ç»„candidatesè¿›è¡Œå‡åºæ’åº

ç„¶åé€’å½’ç»“æŸæ¡ä»¶ä¿®æ”¹

```c++
else if(i==candidates.size()||sum>target)
{
    return;
}
//==================ä¿®æ”¹ä¸º â¬‡ï¸ â¬‡ï¸ â¬‡ï¸ =========================
else if(i==candidates.size()||candidates[i]+sum>target)//å‰ªæä¼˜åŒ–,iä¹‹åçš„å…ƒç´ å…¨éƒ¨ä¸è¿›è¡Œè®¡ç®—
{
    return;
}
```

### åŒæŒ‡é’ˆ

### äºŒåˆ†æ³•
#### å‡åº

æˆ‘æ„¿ç§°ä¹‹å²ä¸Šæœ€æ¸…æ™°çš„äºŒåˆ†æŸ¥æ‰¾æ•™ç¨‹ï¼ï¼çµç¥ï¼ ğŸ‘‡

[äºŒåˆ†æŸ¥æ‰¾ çº¢è“æŸ“è‰²æ³•](https://www.bilibili.com/video/BV1AP41137w7/?vd_source=c43347ef375755d298da8f0c05cfe444)

çµç¥äºŒåˆ†æ³•åˆæ¢

ä¸€èˆ¬çš„äºŒåˆ†æ³•

**è¿”å›æœ‰åºæ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå¤§äºç­‰äºxçš„ä½ç½®ï¼Œå¦‚æœæ‰€æœ‰æ•°éƒ½å°äºxï¼Œåˆ™è¿”å›æ•°ç»„é•¿åº¦**

è¿™ä¸ªé—®é¢˜é’ˆå¯¹**å¤§äºç­‰äºx**, å…¶ä»–æ¡ä»¶çš„è½¬åŒ–å¦‚ä¸‹

- ç¬¬ä¸€ä¸ª$\gt x$çš„ä½ç½® ç­‰ä»·äº $\ge (x+1)$
- æœ€åä¸€ä¸ª$\lt x$çš„ä½ç½® ç­‰ä»·äº $(\ge x)-1$
- æœ€åä¸€ä¸ª$\le x$çš„ä½ç½® ç­‰ä»·äº $(\ge x + 1 )-1$


å¼€åŒºé—´ç«¯ç‚¹æ›´æ–°ä¸ºmidï¼Œè€Œé—­åŒºé—´å¿…é¡»ç§»åŠ¨midçš„å€¼ï¼Œå¼€åŒºé—´&é—­åŒºé—´&å·¦é—­å³å¼€åšæ³•å¾ˆæ¸…æ™°
åŒæ—¶æˆ‘åˆ†æäº†ä¸ºä»€ä¹ˆå·¦å¼€å³é—­æœ‰é—®é¢˜ï¼Œä¸”å®ç°äº†å·¦å¼€å³é—­åšæ³• ğŸ‘‡

ç”±äºé™¤æ³•æ˜¯å‘ä¸‹å–æ•´ï¼Œæ‰€ä»¥å½“`(l,l+1]`æ—¶ä¸­ç‚¹ä¼šæ˜¯å·¦ç«¯ç‚¹ï¼Œå¦‚æœ`nums[l]`æ»¡è¶³`l=mid`çš„æ¡ä»¶ï¼Œå¼€åŒºé—´ä¾§ç«¯ç‚¹æ›´æ–°ä¸ºmidä¹Ÿå³ä¸å˜,ä¼šæˆæ­»å¾ªç¯ï¼Œå¦‚æœå‘ä¸Šå–æ•´çš„è¯`(l,l+1]`,ä¸­ç‚¹ä¸º`l+1`,æ›´æ–°ä¸ºmidå³å¢1ï¼Œä¹Ÿå°±åˆ°äº†å¾ªç¯è·³å‡ºçš„æ¡ä»¶ã€‚**è¿™ä¸ªåªé’ˆå¯¹åŠå¼€åŠé—­åŒºé—´ï¼Œé™¤æ³•çš„ä¸Šå–æ•´æˆ–ä¸‹å–æ•´ä¸å½±å“å…¨å¼€åŒºé—´å’Œå…¨é—­åŒºé—´**

```c++
int low_bound(vector<int>& nums, int target)
{
    //é—­åŒºé—´å†™æ³•ï¼Œä¹Ÿå°±æ˜¯åœ¨[l,r]ä¸­æ‰¾
    int l = 0;
    int r = nums.size()-1;
    while(l<=r)//å¦‚æœl<=rè¯´æ˜ä¸€ç›´æœ‰å…ƒç´ æ²¡æœ‰è¢«äºŒåˆ†,è·³å‡ºå¾ªç¯æ—¶å‰ä¸€æ­¥å¿…å®šæ˜¯l==r
    {
        int mid = (l-r)/2+r;//é˜²æ­¢åŠ æ³•æº¢å‡ºï¼Œä¸Šå–æ•´ï¼Œl-ræ˜¯è´Ÿæ•°ï¼Œå°æ•°éƒ¨åˆ†è¢«èˆå¼ƒï¼Œ+råä¹Ÿå°±å˜æˆäº†ä¸Šå–æ•´
        if(nums[mid]>=target)//è¯´æ˜nums[mid]ä¸ºè“è‰²,ç›¸ç­‰æ—¶ä¹Ÿæ˜¯è“è‰²ï¼Œè¿™æ ·æ‰èƒ½æ±‚å‡ºçº¢è“åˆ†ç•Œç‚¹
        {
            r = mid-1;//midå·²ç»è¢«åˆ†ç±»äº†ï¼Œä¸‹ä¸€ä¸ªåº”è¯¥æ˜¯mid-1
        }
        else
        {
            l = mid+1;
        }
    }
    //æœ€åä¸€æ­¥å¿…å®šæ˜¯l==r
    // è·³å‡ºå¾ªç¯æ—¶r=l-1æˆ–l=r+1,æ‰€ä»¥æ­¤æ—¶læˆ–è€…r+1å°±æ˜¯ç»“æœ
    return l;
}

int low_bound2(vector<int>& nums, int target)
{
    //å¼€åŒºé—´å†™æ³•ï¼Œä¹Ÿå°±æ˜¯åœ¨(l,r)ä¸­æ‰¾
    int l = -1;
    int r = nums.size();
    while(l+1<r)//å¦‚æœl+1<rè¯´æ˜ä¸€ç›´æœ‰å…ƒç´ æ²¡æœ‰è¢«äºŒåˆ† ç”±äº(l,l+1)ä¸­æ— å…ƒç´ ,è·³å‡ºå¾ªç¯æ—¶l+1=r
    {
        int mid = l+(r-l)/2;//é˜²æ­¢åŠ æ³•æº¢å‡ºï¼Œä¸‹å–æ•´
        if(nums[mid]>=target)//è¯´æ˜nums[mid]ä¸ºè“è‰²,ç›¸ç­‰æ—¶ä¹Ÿæ˜¯è“è‰²ï¼Œè¿™æ ·æ‰èƒ½æ±‚å‡ºçº¢è“åˆ†ç•Œç‚¹
        {
            r = mid;//midå·²ç»è¢«åˆ†ç±»äº†ï¼Œä¸‹ä¸€ä¸ªåº”è¯¥æ˜¯mid-1ï¼Œä½†ç”±äºæ˜¯å¼€åŒºé—´ï¼Œæ‰€ä»¥r=mid
        }
        else
        {
            l = mid;//midå·²ç»è¢«åˆ†ç±»äº†,ä½†ç”±äºæ˜¯å¼€åŒºé—´ï¼Œæ‰€ä»¥l=mid
        }
    }
    //æœ€åä¸€æ­¥å¿…å®šæ˜¯l+1=r
    // è·³å‡ºå¾ªç¯æ—¶åŒºé—´ä¸º(l,l+1),æ‰€ä»¥æ­¤æ—¶l+1æˆ–è€…rå°±æ˜¯ç»“æœ
    return r;
}
int low_bound3(vector<int>& nums, int target)
{
    //å·¦å¼€å³é—­å†™æ³•ï¼Œä¹Ÿå°±æ˜¯åœ¨(l,r]ä¸­æ‰¾
    int l = -1;
    int r = nums.size()-1;
    while(l<r)//å¦‚æœl<rè¯´æ˜ä¸€ç›´æœ‰å…ƒç´ æ²¡æœ‰è¢«äºŒåˆ†,è·³å‡ºå¾ªç¯æ—¶l==r
    {
        int mid = (l-r)/2+r;//ä¸Šå–æ•´ï¼ï¼
        if(nums[mid]>=target)//è¯´æ˜nums[mid]ä¸ºè“è‰²,ç›¸ç­‰æ—¶ä¹Ÿæ˜¯è“è‰²ï¼Œè¿™æ ·æ‰èƒ½æ±‚å‡ºçº¢è“åˆ†ç•Œç‚¹
        {
            r = mid-1;//midå·²ç»è¢«åˆ†ç±»äº†ï¼Œä¸‹ä¸€ä¸ªåº”è¯¥æ˜¯mid-1
        }
        else
        {
            l = mid;//midå·²ç»è¢«åˆ†ç±»äº†,ä½†ç”±äºæ˜¯å¼€åŒºé—´ï¼Œæ‰€ä»¥l=mid
        }
    }
    // è·³å‡ºå¾ªç¯æ—¶åŒºé—´ä¸º(l,l],ä¸”ä¸€å®šæ˜¯r = mid-1å¯¼è‡´çš„è·³å‡ºå¾ªç¯ï¼Œæ‰€ä»¥æ­¤æ—¶l+1æˆ–è€…r+1å°±æ˜¯ç»“æœ
    return l+1;
}
int low_bound4(vector<int>& nums, int target)
{
    //å·¦é—­å³å¼€å†™æ³•ï¼Œä¹Ÿå°±æ˜¯åœ¨[l,r)ä¸­æ‰¾
    int l = 0;
    int r = nums.size();
    while(l<r)//å¦‚æœl<rè¯´æ˜ä¸€ç›´æœ‰å…ƒç´ æ²¡æœ‰è¢«äºŒåˆ†,è·³å‡ºå¾ªç¯æ—¶l==r
    {
        int mid = l+(r-l)/2;//ä¸‹å–æ•´ï¼ï¼
        if(nums[mid]>=target)//è¯´æ˜nums[mid]ä¸ºè“è‰²,ç›¸ç­‰æ—¶ä¹Ÿæ˜¯è“è‰²ï¼Œè¿™æ ·æ‰èƒ½æ±‚å‡ºçº¢è“åˆ†ç•Œç‚¹
        {
            r = mid;//midå·²ç»è¢«åˆ†ç±»äº†ï¼Œç”±äºæ˜¯å¼€åŒºé—´ï¼Œä¸‹ä¸€ä¸ªåº”è¯¥æ˜¯mid
        }
        else
        {
            l = mid+1;//midå·²ç»è¢«åˆ†ç±»äº†,æ‰€ä»¥l=mid+1
        }
    }
    // è·³å‡ºå¾ªç¯æ—¶åŒºé—´ä¸º(l,l],ä¸”ä¸€å®šæ˜¯l = mid+1å¯¼è‡´çš„è·³å‡ºå¾ªç¯ï¼Œæ‰€ä»¥æ­¤æ—¶læˆ–è€…rå°±æ˜¯ç»“æœ
    return l;
}
```

#### é™åº
åœ¨ä¸Šé¢çš„è®¨è®ºä¸­æˆ‘ä»¬å·²ç»äº†è§£äº†äºŒåˆ†çš„æ¨¡æ¿ï¼Œæ¥ä¸‹æ¥æ·±å…¥ç†è§£äºŒåˆ†

å¦‚æœä¸€ä¸ªæ•°ç»„ä¸ºé™åºï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°å¤§äºvalçš„æœ€å°å€¼ï¼Œå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾

åŒæ ·ä½¿ç”¨çº¢è“æŸ“è‰²ï¼Œé€šè¿‡åˆ¤æ–­midæ˜¯çº¢è¿˜æ˜¯è“æœ€ç»ˆå°†æ•°ç»„å…¨éƒ¨æŸ“è‰²

- é—­åŒºé—´äºŒåˆ†æ—¶, æ›´æ–°ç­–ç•¥æ—¶l=mid+1; r=mid-1; ä¹Ÿå°±æ˜¯l-1å§‹ç»ˆä¸ºçº¢è‰²ï¼Œr+1å§‹ç»ˆä¸ºè“è‰²
- å¼€åŒºé—´äºŒåˆ†æ—¶, æ›´æ–°ç­–ç•¥æ—¶l=mid; r=mid; ä¹Ÿå°±æ˜¯lå§‹ç»ˆä¸ºçº¢è‰²ï¼Œrå§‹ç»ˆä¸ºè“è‰²
- å·¦å¼€å³é—­åŒºé—´äºŒåˆ†æ—¶, æ›´æ–°ç­–ç•¥æ—¶l=mid; r=mid-1; ä¹Ÿå°±æ˜¯lå§‹ç»ˆä¸ºçº¢è‰²ï¼Œr+1å§‹ç»ˆä¸ºè“è‰²

æŒæ¡ä¸Šé¢çš„è§„å¾‹åï¼Œé™åºæ•°ç»„äºŒåˆ†çš„å†™æ³•ä¹Ÿå°±ä¸€ç›®äº†ç„¶äº†

#### ç¬¬Kå¤§çš„å€¼





### æ·±åº¦ä¼˜å…ˆæœç´¢/å¹¿åº¦ä¼˜å…ˆæœç´¢

### è´¡çŒ®æ³•

### åˆ†æ²»

### æ»‘åŠ¨çª—å£

[æ»‘åŠ¨çª—å£ã€åŸºç¡€ç®—æ³•ç²¾è®² 03ã€‘](https://www.bilibili.com/video/BV1hd4y1r7Gq/?vd_source=c43347ef375755d298da8f0c05cfe444)

é¢˜å•

[3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/description/)

[209. é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode.cn/problems/minimum-size-subarray-sum/description/)

[713. ä¹˜ç§¯å°äº K çš„å­æ•°ç»„](https://leetcode.cn/problems/subarray-product-less-than-k/description/)

åˆå§‹åŒ–åŒºé—´å·¦è¾¹ç•Œä¸º0ï¼Œå³è¾¹ç•Œä¸º0ï¼Œéå†å–åŒºé—´**å³è¾¹ç•Œ**ï¼Œå¦‚æœä¸ç¬¦åˆé¢˜æ„å°±å·¦è¾¹ç•Œå‘é‡Œç¼©ï¼ŒçŸ¥é“åˆšå¥½æ»¡è¶³æ¡ä»¶ï¼Œå†ç»§ç»­å‘å³å–å³è¾¹ç•Œï¼Œç›´åˆ°éå†ç»“æŸ

### æœ€çŸ­è·¯

#### Dijkstraç®—æ³•

æ¨¡æ¿é¢˜ [743. ç½‘ç»œå»¶è¿Ÿæ—¶é—´](https://leetcode.cn/problems/network-delay-time/description/)

é—®é¢˜æè¿°

å›¾ä¸­,æ±‚kç‚¹åˆ°æŸä¸€ç‚¹çš„æœ€çŸ­è·¯å¾„

ç®—æ³•æµç¨‹

- æ„å»ºé‚»æ¥çŸ©é˜µ`g[i][j]`,è¡¨ç¤ºä»æŸä¸€ç‚¹åˆ°æŸä¸€ç‚¹çš„è¾¹æƒ,å¦‚æœæ²¡æœ‰è¿™æ ·çš„è¾¹,å°±ç½®ä¸ºæ— ç©·, `dis[n]`æ•°ç»„è¡¨ç¤ºkåˆ°nçš„æœ€çŸ­è·¯å¾„é•¿åº¦,åˆå§‹åŒ–ä¸ºæ— ç©·,`dis[k]=0`
- æ‰¾åˆ°disä¸­æœ€å°çš„ä¸€ç‚¹`dis[y]`,å³ä¸ºkåˆ°è¯¥ç‚¹yçš„æœ€å°è·ç¦»,å›ºå®š,ä¹‹åä¸å†è¿›è¡Œè®¡ç®—
- æ›´æ–°è®¡ç®—yç›¸é‚»ç‚¹zçš„dis, å¦‚æœ`dis[z]>dis[y]+g[y][z]`,å°±æŠŠ`dis[z]`æ›´æ–°,ä½œä¸ºä¸´æ—¶æœ€çŸ­è·¯

ä»£ç å®ç°

```c++
//ç¨ å¯†å›¾,æœ´ç´ Dijkstra
//æ„å»ºé‚»æ¥çŸ©é˜µ
int n = 100;//èŠ‚ç‚¹ä¸ªæ•°
vector<vector<int>> g(n, vector<int>(n, INT_MAX/2));
for(auto &v: edges)
{
    int from = v[0];
    int to = v[1];
    int cost = v[2];
    g[from][to] = v[2];
    //g[to][from] = v[2]; //æ— å‘å›¾æƒ…å†µ
}
vector<int> dis(n, INT_MAX);//æœ€çŸ­è·¯æ•°ç»„
vector<int> done(n);//ä»£è¡¨æœ€çŸ­è·¯æ˜¯å¦è¢«å›ºå®š
dis[k] = 0;
while(true)
{
    int x = -1;
    for(int i = 0; i<n; i++)
    {
        if(!done[n]&&(x==-1||dis[i]<dis[x]))
        {
            x = i;//æ‰¾æœªè¢«å›ºå®šçš„æœ€çŸ­è·¯
        }
    }
    if(x==-1)//æ‰€æœ‰èŠ‚ç‚¹å‡è¢«å›ºå®š
    {
        return ranges::max(dis);//èµ°å®Œæ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­æ—¶é—´
    }
    if(dis[x]==INT_MAX/2)
    {
        return; //æœ‰èŠ‚ç‚¹æ— æ³•åˆ°è¾¾
    }
    done[x] = 1;//å›ºå®šæœ€çŸ­è·¯
    for(int i =0; i<n; i++)//æ›´æ–°xç›¸é‚»èŠ‚ç‚¹
    {
        dis[i] = min(dis[i], dis[x]+g[x][i]);
    }
}
```

å°æ ¹å †ä¼˜åŒ–,é€‚ç”¨äºç¨€ç–å›¾,åˆ©ç”¨é‚»æ¥è¡¨å­˜è¾¹æƒä¿¡æ¯

```c++
//é€‚åˆç¨€ç–å›¾
//æ„å»ºé‚»æ¥è¡¨
int n = 100;//èŠ‚ç‚¹ä¸ªæ•°
unordered_map<int, vector<pair<int,int>>> g;
for(auto &v: edges)
{
    int from = v[0];
    int to = v[1];
    int cost = v[2];
    g[from].emplace_back(to, cost);
    // g[to].emplace_back(from, cost); //æ— å‘å›¾
}
vector<int> dis(n, INT_MAX/2);
dis[k] = 0;
priority_queue<pair<int,int>, vector<pair<int,int>>, greater<>> pq;//å°æ ¹å †
pq.emplace(dis[k], k);//æºç‚¹åŠ å…¥
while(!pq.empty())
{
    auto [x, cost] = pq.front();
    pq.pop();//æ¯æ¬¡å¼¹å‡ºæœ€å°å€¼
    if(cost>dis[x])
    {
        continue;//ä¹‹å‰è®¡ç®—è¿‡è¿™ä¸ªç‚¹
    }
    for(auto &[to, c]:g[x])//æ›´æ–°ç›¸é‚»ç‚¹
    {
        int sum = dis[x]+c;
        if(dis[to]>sum)
        {
            dis[to] = sum;
            pq.emplace(sum, to);//å…¥é˜Ÿ
        }
    }
}
return ranges::max(dis);
```

#### Floyedç®—æ³•

æ€è·¯æ¯”è¾ƒç®€å•,å¯ä»¥å¾—åˆ°ä»»æ„ä¸¤ç‚¹çš„æœ€çŸ­è·¯, ä¸æ–­éå†å¾—åˆ°ä»»æ„ä¸¤ç‚¹çš„æœ€çŸ­è·¯

å¤–å±‚å¾ªç¯éå†ä¸­è½¬ç‚¹(åªæœ‰è¿™æ ·æ‰èƒ½ä¿è¯æœ€çŸ­è·¯),å†…å­˜éå†èµ·ç‚¹å’Œç»ˆç‚¹, ä¿®æ”¹é‚»æ¥çŸ©é˜µ

```c++
int n = 100;//èŠ‚ç‚¹ä¸ªæ•°
vector<vector<int>> g(n, vector<int>(n, INT_MAX/2));//æ„å»ºè¾¹æƒçŸ©é˜µ
for(auto& v: times)
{
    g[v[0]][v[1]] = v[2];
}
for(int i = 0; i<n; i++)//è‡ªèº«å’Œè‡ªèº«çš„è·ç¦»ä¸º0,æ³¨æ„!!!!!!!!
{
    g[i][i]=0;
}
for(int s = 0; s<n; s++)
{
    for(int from = 0; from<n; from++)
    {
        for(int to = 0; to<0; to++)
        {
            int sum = g[from][s] + g[s][to];
            g[from][to] = min(sum, g[from][to]);
        }
    }
}
//æ­¤æ—¶çš„g[i][j]å°±è¡¨ç¤ºiåˆ°kçš„æœ€çŸ­è·¯
return ranges::max(g[k]);
```

åŸå§‹floydç®—æ³•ä¸ºä¸‰ç»´DP

`g[k+1][i][j] = min(g[k][i][j], g[k][i][k]+g[k][k][j]);`

[å¸¦ä½ å‘æ˜ Floyd ç®—æ³•ï¼šä»è®°å¿†åŒ–æœç´¢åˆ°é€’æ¨ï¼ˆPython/Java/C++/Go/JS/Rustï¼‰](https://leetcode.cn/problems/find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance/solutions/2525946/dai-ni-fa-ming-floyd-suan-fa-cong-ji-yi-m8s51/)

#### dfsæš´åŠ›ç®—æ³•

æš´åŠ›æœç´¢æ¯ä¸€æ¡å¯è¡Œçš„è·¯,è®¡ç®—æœ€å°å€¼

```c++
//æ„å»ºé‚»æ¥è¡¨
unordered_map<int, vector<pair<int,int>>> g;
for(auto v: edges)
{
    g[v[0]].emplace_back(v[1], v[2]);
    // g[v[1]].emplace_back(v[0], v[2]);//æ— å‘å›¾
}
vector<int> dis(n);
dis[k] = 0;
auto dfs(auto&& dfs, int i)->void
{
    for(auto &[to, c]: g[i])
    {
        int cost = dis[i]+c;
        if(dis[to]>cost)//ç­›é€‰æœ€å°å€¼
        {
            dis[to] = cost;
            dfs(dfs, to);
        }
    }
};
dfs(dfs, k);
return ranges::max(dis);
```

#### BFSæš´åŠ›ç®—æ³•

```c++
//æ„å»ºé‚»æ¥è¡¨
unordered_map<int, vector<pair<int,int>>> g;
for(auto v: edges)
{
    g[v[0]].emplace_back(v[1], v[2]);
    // g[v[1]].emplace_back(v[0], v[2]);//æ— å‘å›¾
}
vector<int> dis(n, INT_MAX/2);
dis[k] = 0;
queue<int> q;
q.push(k);
while(!q.empty())
{
    int t = q.top();
    q.pop();
    for(auto &[to, c]: g[t])
    {
        int sum = dis[t]+c;
        if(dis[to]>sum)//ç­›é€‰æœ€å°å€¼
        {
            dis[to] = sum;
            q.push(to);
        }
    }
}
return ranges::max(dis);
```

### æ±‚è§£æœ€å¤§å…¬çº¦æ•°
[æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°3ç§ç®—æ³•](https://zhuanlan.zhihu.com/p/338809271)

ç®€å•æ¥è¯´å°±æ˜¯åˆå¹¶æ±‚å–è¿é€šåŸŸçš„ç®—æ³•

å¦‚æœæƒ³åˆå¹¶ä¸¤ä¸ªåŸŸï¼Œéœ€è¦æ‰¾åˆ°è¿™ä¸¤ä¸ªåŸŸçš„æ ¹èŠ‚ç‚¹ï¼Œå°†ä¸¤ä¸ªæ ¹èŠ‚ç‚¹ç›¸äº’è¿æ¥(è°æ˜¯çˆ¶è°æ˜¯å­å‘¢ï¼Ÿæ…¢æ…¢å¾€ä¸‹çœ‹)

```c++
int find(int x) //æ‰¾åˆ°xçš„æ ¹èŠ‚ç‚¹
{
    if(fa[x] == x) //å¦‚æœxçš„çˆ¶èŠ‚ç‚¹æ˜¯è‡ªå·±çš„è¯,åˆ™å®ƒå°±æ˜¯æ ¹èŠ‚ç‚¹
        return x;
    else
        return find(fa[x]);//xçˆ¶èŠ‚ç‚¹è¿›è¡Œé€’å½’
}
```

```c++
inline void merge(int i, int j)
{
    fa[find(i)] = find(j); // ä½¿jæ ¹èŠ‚ç‚¹æˆä¸ºiæ ¹èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹(è¯´ç™½äº†å°±æ˜¯è®©jçš„æ ¹èŠ‚ç‚¹æˆä¸ºåˆå¹¶åçš„æ ¹èŠ‚ç‚¹,è€Œiçš„æ ¹èŠ‚ç‚¹æ˜¯å…¶å­èŠ‚ç‚¹)
}
```

è·¯å¾„å‹ç¼©


#### è¾—è½¬ç›¸é™¤æ³•

#### æ›´ç›¸å‡æŸæ³•

#### Steinç®—æ³•ï¼ˆç»“åˆè¾—è½¬ç›¸é™¤æ³•å’Œæ›´ç›¸å‡æŸæ³•çš„ä¼˜åŠ¿ä»¥åŠç§»ä½è¿ç®—ï¼‰

### è®°å¿†åŒ–æœç´¢

ä¸¾ä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼šæ±‚è§£ç¬¬né¡¹æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å€¼ï¼Œé€’å½’ä»£ç (æœ´ç´ dfs)å¦‚ä¸‹

```c++
int feibo(int n) //ç¬¬né¡¹ n>=0
{
    if(n==0||n==1)
        return 1;
    else
        return feibo(n-1)+feibo(n-2);
}
```

ä½†æ˜¯ç”»ä¸€å¼ å›¾å°±ä¼šå‘ç°, è®¡ç®—f(5)æ—¶éœ€è¦è®¡ç®—f(4)å’Œf(3),è€Œè®¡ç®—f(4)ä¹Ÿè¦è®¡ç®—f(3), è¿™é‡Œå°±ä¼šé€ æˆé‡å¤è®¡ç®—

å¤æ‚åº¦åˆ†æ

ç”±äºè®¡ç®—ä¸€ä¸ªféœ€è¦è®¡ç®—å…¶ä»–ä¸¤ä¸ªå€¼, æ—¶é—´å¤æ‚åº¦$O(2^n)$

è®¡ç®—å®Œä¼šé‡Šæ”¾ç©ºé—´, æ‰€ä»¥åªä¼šå¼€è¾Ÿé•¿åº¦ä¸ºnçš„éšå¼æ ˆ, ç©ºé—´å¤æ‚åº¦$O(n)$, (å¦‚æœä¸é‡Šæ”¾çš„è¯å¯èƒ½ä¼šæ˜¯$O(n+n^2)$?åˆ©ç”¨ç­‰å·®æ•°åˆ—æ±‚å’Œè®¡ç®—)

èƒ½å¦é˜»æ­¢é‡å¤è®¡ç®—,ä»è€Œé™ä½ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å‘¢?, å¯ä»¥,å°±æ˜¯æŠŠè®¡ç®—è¿‡çš„å€¼ä¿å­˜ä¸‹æ¥

```c++
vector<int> temp(n,-1);  // åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ï¼Œç”¨æ¥è®°å½•ç¬¬iä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å€¼
int feibo(int n)
{
    if(n==0||n==1)
        return 1;
    if (temp[n]==-1)
        temp[n] = feibo(n-1) + feibo(n-2);
    return temp[n];
}
```

æ„å»ºé¢å¤–ç©ºé—´temp,ç©ºé—´æ¢æ—¶é—´

æ—¶é—´å¤æ‚åº¦$O(n)$, ç©ºé—´å¤æ‚åº¦$O(2n)$,åˆ†åˆ«ä¸ºtempæ‰€å ç©ºé—´äºé€’å½’æ„å»ºçš„éšå¼æ ˆ

é¢˜å¤–è¯

ä¹Ÿå¯ä»¥é€šè¿‡å‡å°‘é€’å½’æ¬¡æ•°è¾¾åˆ°é™ä½æ—¶é—´å¤æ‚åº¦çš„æ•ˆæœ, ä»¥å¾€çš„é€’å½’éƒ½æ˜¯ä»æœ€å°çš„å­é—®é¢˜å¼€å§‹ä»åå¾€å‰é€’å½’, è¿™é‡Œçš„ä»£ç ä¸ºä»å‰å¾€åé€’å½’, æœ¬è´¨ç±»ä¼¼äºè¿­ä»£, å°±æ˜¯ç»™è¿­ä»£æ¢äº†ä¸ªé©¬ç”²!

```c++
int feibo(int first, int second, int n) {
    if (n <= 0) {
        return 0;
    }
    if (n < 3) {
        return 1;
    }
    else if (n == 3) {
        return first + second;
    }
    else {
        return feibo(second, first + second, n - 1);
    }
}
```

```c++
int feibo(int n) { // è¿­ä»£æ³•ä»£ç 
    int first = 0;
    int second = 1;
    if(n==0)
        return 1;
    for(;n>0;n--)//éå†æ›´æ–°firstå’Œsecondçš„å€¼
    {
        int temp = second;
        second = first+second;
        first = temp;
        
    }
    return second;
}
```

ä¸Šä¸¤ç§ä»£ç å‡ ä¹ä¸€æ‘¸ä¸€æ ·, æ—¶é—´å¤æ‚åº¦$O(n)$, ç©ºé—´å¤æ‚åº¦O(1)

### å¤æ‚åº¦åˆ†æ

#### é€’å½’ç®—æ³•

#### äºŒåˆ†ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºä»€ä¹ˆæ˜¯O(logN)?

#### åˆ†æ²»ç®—æ³•--ç‰ºç‰²ç©ºé—´å¤æ‚åº¦æ¢æ—¶é—´å¤æ‚åº¦

### è€ƒç‚¹æ•´ç†

- å›æº¯
- äºŒåˆ†æŸ¥æ‰¾
- æ»‘åŠ¨çª—å£
- åŒæŒ‡é’ˆ
- æœ€çŸ­è·¯æ•°ç»„
- åŠ¨æ€è§„åˆ’
  - èƒŒåŒ…DP
  - çŠ¶æ€æœºDP
  - çŠ¶æ€å‹ç¼©DP
  - æ•°ä½DP

æ•°æ®ç»“æ„

- å¹¶æŸ¥é›†
- æ ‘çŠ¶æ•°ç»„
- å•è°ƒæ ˆ
- å‰ç¼€æ ‘
